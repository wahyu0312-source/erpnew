<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>æ±äº¬éƒ½ç²¾å¯†æ©Ÿæ¢°æ ªå¼ä¼šç¤¾ã‚·ã‚¹ãƒ†ãƒ </title>

  <!-- Styles dasar (ringkas) -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/2.0.0/modern-normalize.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <style>
    :root{
      --ink:#0f172a; --muted:#64748b; --surface:#ffffff; --bg:#f6f7fb;
      --border:#e5e7eb; --accent:#0ea5a8; --radius:14px;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,"Noto Sans JP","Segoe UI",Roboto,Helvetica,Arial,sans-serif;}
    .hidden{display:none !important;}

    /* Topbar */
    .topbar{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid var(--border);}
    .topwrap{display:flex;align-items:center;gap:10px;height:56px;padding:0 14px;}
    .brand{font-weight:800}
    .nav{display:flex;gap:10px;margin-left:auto;}
    .chipbtn{display:inline-flex;align-items:center;gap:.5rem;border:1px solid var(--border);background:#fff;border-radius:999px;height:34px;padding:0 12px;cursor:pointer}
    .chipbtn.hidden{display:none}

    /* Page containers */
    .container{max-width:1280px;margin:18px auto;padding:0 14px;}
    .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:0 10px 30px rgba(15,23,42,.05);padding:14px;}
    .row{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
    .row-between{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap}
    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    @media (max-width:980px){ .grid2{grid-template-columns:1fr} }

    /* Table (yang lama tetap) */
    .table-wrap{overflow:auto;border-radius:12px;border:1px solid var(--border);}
    table{width:100%;border-collapse:collapse;background:#fff}
    th,td{border-bottom:1px solid var(--border);padding:8px 10px;text-align:left}
    th{background:#f8fafc;font-weight:600}

    /* Charts */
    .chart-panel{padding:10px}
    .chart-toolbar{display:flex;align-items:center;gap:8px;margin-bottom:8px;flex-wrap:wrap}
    .chart-box{height:340px}
    .chart-box.tall{height:380px}
    .select{height:32px;border:1px solid var(--border);border-radius:8px;background:#fff;padding:0 8px}
  </style>

  <!-- Vendor utk chart & export -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.8.2"></script>
</head>
<body>

  <!-- ====== TOP BAR ====== -->
  <div class="topbar">
    <div class="topwrap">
      <div class="brand">æ±äº¬éƒ½ç²¾å¯†æ©Ÿæ¢°æ ªå¼ä¼šç¤¾ã‚·ã‚¹ãƒ†ãƒ </div>

      <!-- tombol navigasi (yang lama tetap) -->
      <div class="nav">
        <button id="btnToDash" class="chipbtn"><i class="fa-solid fa-gauge"></i> ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</button>
        <button id="btnToSales" class="chipbtn"><i class="fa-regular fa-file-lines"></i> å—æ³¨</button>
        <button id="btnToPlan" class="chipbtn"><i class="fa-solid fa-list-check"></i> ç”Ÿç”£è¨ˆç”»</button>
        <button id="btnToShip" class="chipbtn"><i class="fa-solid fa-truck-ramp-box"></i> å‡ºè·äºˆå®š</button>
        <button id="btnToFinPage" class="chipbtn"><i class="fa-regular fa-circle-check"></i> å®Œæˆå“ä¸€è¦§</button>
        <button id="btnToInvPage" class="chipbtn"><i class="fa-solid fa-warehouse"></i> åœ¨åº«</button>
        <button id="btnToInvoice" class="chipbtn"><i class="fa-regular fa-file-invoice"></i> è«‹æ±‚æ›¸</button>

        <!-- ğŸ”¥ MENU BARU: åˆ†æãƒãƒ£ãƒ¼ãƒˆ -->
        <button id="btnToCharts" class="chipbtn"><i class="fa-solid fa-chart-line"></i> åˆ†æãƒãƒ£ãƒ¼ãƒˆ</button>

        <div class="chipbtn" id="ddSetting"><i class="fa-solid fa-gear"></i> è¨­å®š</div>
        <div class="chipbtn" id="btnLogout"><i class="fa-solid fa-right-from-bracket"></i> ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</div>
      </div>
    </div>
  </div>

  <!-- =========== AUTH VIEW (tetap) =========== -->
  <div id="authView" class="container">
    <div class="card" style="max-width:520px;margin:100px auto">
      <h3 style="margin:6px 0 14px">ãƒ­ã‚°ã‚¤ãƒ³</h3>
      <div style="display:grid;gap:8px">
        <input id="inUser" class="select" placeholder="ãƒ¦ãƒ¼ã‚¶ãƒ¼å">
        <input id="inPass" class="select" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" type="password">
        <button id="btnLogin" class="chipbtn" style="justify-content:center"><i class="fa-solid fa-right-to-bracket"></i> ãƒ­ã‚°ã‚¤ãƒ³</button>
        <div class="muted" style="color:var(--muted);font-size:12px">â€» ä¸Šéƒ¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¯ãƒ­ã‚°ã‚¤ãƒ³å¾Œã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</div>
      </div>
    </div>
  </div>

  <!-- =========== PAGE: DASHBOARD / SALES / PLAN / SHIP / FIN / INV (yang lama) =========== -->
  <div id="pageDash" class="container hidden"></div>
  <div id="pageSales" class="container hidden"></div>
  <div id="pagePlan" class="container hidden"></div>
  <div id="pageShip" class="container hidden"></div>
  <div id="pageFinished" class="container hidden"></div>
  <div id="pageInv" class="container hidden"></div>

  <!-- =========== PAGE: è«‹æ±‚æ›¸ (yang sudah kamu tambahkan sebelumnya) =========== -->
  <div id="pageInvoice" class="container hidden"></div>

  <!-- =========== ğŸ”¥ PAGE BARU: åˆ†æãƒãƒ£ãƒ¼ãƒˆ =========== -->
  <div id="pageCharts" class="container hidden">
    <!-- Filter bar -->
    <div class="card">
      <div class="row">
        <div class="row">
          <label>å¹´:</label>
          <select id="chYear" class="select"></select>
          <label>æœˆ:</label>
          <select id="chMonth" class="select">
            <option value="">(å…¨ã¦)</option>
            <option value="1">1æœˆ</option><option value="2">2æœˆ</option><option value="3">3æœˆ</option>
            <option value="4">4æœˆ</option><option value="5">5æœˆ</option><option value="6">6æœˆ</option>
            <option value="7">7æœˆ</option><option value="8">8æœˆ</option><option value="9">9æœˆ</option>
            <option value="10">10æœˆ</option><option value="11">11æœˆ</option><option value="12">12æœˆ</option>
          </select>
          <label>å¾—æ„å…ˆ:</label>
          <select id="chCust" class="select"><option value="">(å…¨ã¦)</option></select>
        </div>
        <div class="row" style="margin-left:auto">
          <button id="chReload" class="chipbtn"><i class="fa-solid fa-rotate"></i> æ›´æ–°</button>
          <button id="chExportImg" class="chipbtn"><i class="fa-regular fa-image"></i> PNGå‡ºåŠ›</button>
          <button id="chExportXlsx" class="chipbtn"><i class="fa-regular fa-file-excel"></i> Excelå‡ºåŠ›</button>
        </div>
      </div>
    </div>

    <!-- Grid charts -->
    <div class="grid2" style="margin-top:12px">
      <div class="card chart-panel">
        <div class="chart-toolbar"><strong>å‡ºè·ï¼ˆæ—¥æ¬¡ï¼‰</strong></div>
        <div class="chart-box"><canvas id="cDaily"></canvas></div>
      </div>

      <div class="card chart-panel">
        <div class="chart-toolbar"><strong>å‡ºè·ï¼ˆæœˆæ¬¡ãƒ»å¹´å†…ï¼‰</strong></div>
        <div class="chart-box"><canvas id="cMonthly"></canvas></div>
      </div>

      <div class="card chart-panel">
        <div class="chart-toolbar"><strong>é¡§å®¢åˆ¥ å‡ºè·ï¼ˆTop 10ï¼‰</strong></div>
        <div class="chart-box tall"><canvas id="cTopCust"></canvas></div>
      </div>

      <div class="card chart-panel">
        <div class="chart-toolbar"><strong>é¡§å®¢åˆ¥ æœˆæ¬¡/å¹´æ¬¡ï¼ˆStacked / Pareto / Pieï¼‰</strong>
          <select id="chMode" class="select">
            <option value="month">æœˆ</option>
            <option value="year">å¹´</option>
          </select>
          <select id="chType" class="select">
            <option value="stacked">Stacked</option>
            <option value="pareto">Pareto</option>
            <option value="pie">Pie</option>
          </select>
          <select id="chPick" class="select"><!-- diisi dinamis --></select>
        </div>
        <div class="chart-box tall"><canvas id="cCustMonthly"></canvas></div>
      </div>
    </div>
  </div>

  <!-- App -->
  <script src="./app.js"></script>
</body>
</html>
